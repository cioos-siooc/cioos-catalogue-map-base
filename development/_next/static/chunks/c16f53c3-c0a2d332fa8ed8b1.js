"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{6424:(e,t,n)=>{let r;n.d(t,{It:()=>eE,SV:()=>d,XF:()=>U,bv:()=>eg,kp:()=>ei,s3:()=>en,s9:()=>ef,we:()=>ed,zR:()=>el});var o,l=n(2115),u=n(3473),i=n(5155),c=n(2066),s=n(5234),a=n(7650),f=n(8334);function d(e){return l.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})},e)}let v={...o||(o=n.t(l,2))},p=v.useInsertionEffect||(e=>e());function m(e){let t=l.useRef(()=>{});return p(()=>{t.current=e}),l.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}var g="undefined"!=typeof document?l.useLayoutEffect:l.useEffect;let b=!1,E=0,y=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+E++,h=v.useId||function(){let[e,t]=l.useState(()=>b?y():void 0);return g(()=>{null==e&&t(y())},[]),l.useEffect(()=>{b=!0},[]),e},w=l.createContext(null),R=l.createContext(null),x=()=>{var e;return(null==(e=l.useContext(w))?void 0:e.id)||null},k=()=>l.useContext(R);function M(e){return"data-floating-ui-"+e}function C(e){let t=(0,l.useRef)(e);return g(()=>{t.current=e}),t}let L=0;function S(e,t){void 0===t&&(t={});let{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(L);let l=()=>null==e?void 0:e.focus({preventScroll:n});o?l():L=requestAnimationFrame(l)}function A(e,t){var n;let r=[],o=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;o;){let t=e.find(e=>e.id===o);o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}function O(e,t){let n=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),r=n;for(;r.length;)r=e.filter(e=>{var t;return null==(t=r)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}),n=n.concat(r);return n}let q=new WeakMap,W=new WeakSet,j={},T=0,F=e=>e&&(e.host||F(e.parentNode));function P(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);let r=(0,u.YE)(e[0]).body;return function(e,t,n,r){let o="data-floating-ui-inert",l=r?"inert":n?"aria-hidden":null,u=e.map(e=>{if(t.contains(e))return e;let n=F(e);return t.contains(n)?n:null}).filter(e=>null!=e),i=new Set,s=new Set(u),a=[];j[o]||(j[o]=new WeakMap);let f=j[o];return u.forEach(function e(t){!(!t||i.has(t))&&(i.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||s.has(t)||[].forEach.call(t.children,t=>{if("script"!==(0,c.mq)(t))if(i.has(t))e(t);else{let e=l?t.getAttribute(l):null,n=null!==e&&"false"!==e,r=q.get(t)||0,u=l?r+1:r,i=(f.get(t)||0)+1;q.set(t,u),f.set(t,i),a.push(t),1===u&&n&&W.add(t),1===i&&t.setAttribute(o,""),!n&&l&&t.setAttribute(l,"true")}})}(t),i.clear(),T++,()=>{a.forEach(e=>{let t=q.get(e)||0,n=l?t-1:t,r=(f.get(e)||0)-1;q.set(e,n),f.set(e,r),n||(!W.has(e)&&l&&e.removeAttribute(l),W.delete(e)),r||e.removeAttribute(o)}),--T||(q=new WeakMap,q=new WeakMap,W=new WeakSet,j={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}let I=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function K(e,t){let n=(0,s.Kr)(e,I());"prev"===t&&n.reverse();let r=n.indexOf((0,u.RS)((0,u.YE)(e)));return n.slice(r+1)[0]}function Y(){return K(document.body,"next")}function N(){return K(document.body,"prev")}function D(e,t){let n=t||e.currentTarget,r=e.relatedTarget;return!r||!(0,u.gR)(n,r)}function _(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}let B={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function H(e){"Tab"===e.key&&(e.target,clearTimeout(r))}let V=l.forwardRef(function(e,t){let[n,r]=l.useState();g(()=>((0,u.nr)()&&r("button"),document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}),[]);let o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[M("focus-guard")]:"",style:B};return(0,i.jsx)("span",{...e,...o})}),X=l.createContext(null),z=M("portal");function U(e){let{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,u=function(e){void 0===e&&(e={});let{id:t,root:n}=e,r=h(),o=$(),[u,i]=l.useState(null),s=l.useRef(null);return g(()=>()=>{null==u||u.remove(),queueMicrotask(()=>{s.current=null})},[u]),g(()=>{if(!r||s.current)return;let e=t?document.getElementById(t):null;if(!e)return;let n=document.createElement("div");n.id=r,n.setAttribute(z,""),e.appendChild(n),s.current=n,i(n)},[t,r]),g(()=>{if(null===n||!r||s.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!(0,c.vq)(e)&&(e=e.current),e=e||document.body;let l=null;t&&((l=document.createElement("div")).id=t,e.appendChild(l));let u=document.createElement("div");u.id=r,u.setAttribute(z,""),(e=l||e).appendChild(u),s.current=u,i(u)},[t,n,r,o]),u}({id:n,root:r}),[f,d]=l.useState(null),v=l.useRef(null),p=l.useRef(null),m=l.useRef(null),b=l.useRef(null),E=null==f?void 0:f.modal,y=null==f?void 0:f.open,w=!!f&&!f.modal&&f.open&&o&&!!(r||u);return l.useEffect(()=>{if(u&&o&&!E)return u.addEventListener("focusin",e,!0),u.addEventListener("focusout",e,!0),()=>{u.removeEventListener("focusin",e,!0),u.removeEventListener("focusout",e,!0)};function e(e){u&&D(e)&&("focusin"===e.type?_:function(e){(0,s.Kr)(e,I()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})})(u)}},[u,o,E]),l.useEffect(()=>{u&&(y||_(u))},[y,u]),(0,i.jsxs)(X.Provider,{value:l.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:v,afterOutsideRef:p,beforeInsideRef:m,afterInsideRef:b,portalNode:u,setFocusManagerState:d}),[o,u]),children:[w&&u&&(0,i.jsx)(V,{"data-type":"outside",ref:v,onFocus:e=>{if(D(e,u)){var t;null==(t=m.current)||t.focus()}else{let e=N()||(null==f?void 0:f.domReference);null==e||e.focus()}}}),w&&u&&(0,i.jsx)("span",{"aria-owns":u.id,style:B}),u&&a.createPortal(t,u),w&&u&&(0,i.jsx)(V,{"data-type":"outside",ref:p,onFocus:e=>{if(D(e,u)){var t;null==(t=b.current)||t.focus()}else{let t=Y()||(null==f?void 0:f.domReference);null==t||t.focus(),(null==f?void 0:f.closeOnFocusOut)&&(null==f||f.onOpenChange(!1,e.nativeEvent,"focus-out"))}}})]})}let $=()=>l.useContext(X),G="data-floating-ui-focusable";function Z(e){return e?e.hasAttribute(G)?e:e.querySelector("["+G+"]")||e:null}let J=[];function Q(e){J=J.filter(e=>e.isConnected),e&&"body"!==(0,c.mq)(e)&&(J.push(e),J.length>20&&(J=J.slice(-20)))}function ee(){return J.slice().reverse().find(e=>e.isConnected)}let et=l.forwardRef(function(e,t){return(0,i.jsx)("button",{...e,type:"button",ref:t,tabIndex:-1,style:B})});function en(e){let{context:t,children:n,disabled:r=!1,order:o=["content"],guards:a=!0,initialFocus:f=0,returnFocus:v=!0,restoreFocus:p=!1,modal:b=!0,visuallyHiddenDismiss:E=!1,closeOnFocusOut:y=!0,outsideElementsInert:h=!1}=e,{open:w,onOpenChange:R,events:x,dataRef:L,elements:{domReference:q,floating:W}}=t,j=m(()=>{var e;return null==(e=L.current.floatingContext)?void 0:e.nodeId}),T="number"==typeof f&&f<0,F=(0,u.WZ)(q)&&T,K="undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,_=!K||a,H=!_||K&&h,X=C(o),z=C(f),U=C(v),G=k(),J=$(),en=l.useRef(null),er=l.useRef(null),eo=l.useRef(!1),el=l.useRef(!1),eu=l.useRef(-1),ei=null!=J,ec=Z(W),es=m(function(e){return void 0===e&&(e=ec),e?(0,s.Kr)(e,I()):[]}),ea=m(e=>{let t=es(e);return X.current.map(e=>q&&"reference"===e?q:ec&&"floating"===e?ec:t).filter(Boolean).flat()});l.useEffect(()=>{if(r||!b)return;function e(e){if("Tab"===e.key){(0,u.gR)(ec,(0,u.RS)((0,u.YE)(ec)))&&0===es().length&&!F&&(0,u.jo)(e);let t=ea(),n=(0,u.EW)(e);"reference"===X.current[0]&&n===q&&((0,u.jo)(e),e.shiftKey?S(t[t.length-1]):S(t[1])),"floating"===X.current[1]&&n===ec&&e.shiftKey&&((0,u.jo)(e),S(t[0]))}}let t=(0,u.YE)(ec);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,q,ec,b,X,F,es,ea]),l.useEffect(()=>{if(!r&&W)return W.addEventListener("focusin",e),()=>{W.removeEventListener("focusin",e)};function e(e){let t=(0,u.EW)(e),n=es().indexOf(t);-1!==n&&(eu.current=n)}},[r,W,es]),l.useEffect(()=>{if(!r&&y&&W&&(0,c.sb)(q))return q.addEventListener("focusout",t),q.addEventListener("pointerdown",e),W.addEventListener("focusout",t),()=>{q.removeEventListener("focusout",t),q.removeEventListener("pointerdown",e),W.removeEventListener("focusout",t)};function e(){el.current=!0,setTimeout(()=>{el.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let n=j(),r=!((0,u.gR)(q,t)||(0,u.gR)(W,t)||(0,u.gR)(t,W)||(0,u.gR)(null==J?void 0:J.portalNode,t)||null!=t&&t.hasAttribute(M("focus-guard"))||G&&(O(G.nodesRef.current,n).find(e=>{var n,r;return(0,u.gR)(null==(n=e.context)?void 0:n.elements.floating,t)||(0,u.gR)(null==(r=e.context)?void 0:r.elements.domReference,t)})||A(G.nodesRef.current,n).find(e=>{var n,r,o;return[null==(n=e.context)?void 0:n.elements.floating,Z(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(o=e.context)?void 0:o.elements.domReference)===t})));if(p&&r&&(0,u.RS)((0,u.YE)(ec))===(0,u.YE)(ec).body){(0,c.sb)(ec)&&ec.focus();let e=eu.current,t=es(),n=t[e]||t[t.length-1]||ec;(0,c.sb)(n)&&n.focus()}(F||!b)&&t&&r&&!el.current&&t!==ee()&&(eo.current=!0,R(!1,e,"focus-out"))})}},[r,q,W,ec,b,G,J,R,y,p,es,F,j]);let ef=l.useRef(null),ed=l.useRef(null),ev=d([ef,null==J?void 0:J.beforeInsideRef]),ep=d([ed,null==J?void 0:J.afterInsideRef]);function em(e){return!r&&E&&b?(0,i.jsx)(et,{ref:"start"===e?en:er,onClick:e=>R(!1,e.nativeEvent),children:"string"==typeof E?E:"Dismiss"}):null}l.useEffect(()=>{var e;if(r||!W)return;let t=[W,...Array.from((null==J||null==(e=J.portalNode)?void 0:e.querySelectorAll("["+M("portal")+"]"))||[]),...G&&!b?A(null==G?void 0:G.nodesRef.current,j()).map(e=>{var t;return null==(t=e.context)?void 0:t.elements.floating}):[],en.current,er.current,ef.current,ed.current,null==J?void 0:J.beforeOutsideRef.current,null==J?void 0:J.afterOutsideRef.current,X.current.includes("reference")||F?q:null].filter(e=>null!=e),n=b||F?P(t,!H,H):P(t);return()=>{n()}},[r,q,W,b,X,J,F,_,H,G,j]),g(()=>{if(r||!(0,c.sb)(ec))return;let e=(0,u.YE)(ec),t=(0,u.RS)(e);queueMicrotask(()=>{let e=ea(ec),n=z.current,r=("number"==typeof n?e[n]:n.current)||ec,o=(0,u.gR)(ec,t);T||o||!w||S(r,{preventScroll:r===ec})})},[r,w,ec,T,ea,z]),g(()=>{if(r||!ec)return;let e=!1,t=(0,u.YE)(ec),n=(0,u.RS)(t),o=L.current.openEvent;function l(t){let{open:n,reason:r,event:l,nested:i}=t;n&&(o=l),"escape-key"===r&&q&&Q(q),["hover","safe-polygon"].includes(r)&&"mouseleave"===l.type&&(eo.current=!0),"outside-press"===r&&(i?(eo.current=!1,e=!0):eo.current=!((0,u.YF)(l)||(0,u.Pg)(l)))}Q(n),x.on("openchange",l);let i=t.createElement("span");return i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),Object.assign(i.style,B),ei&&q&&q.insertAdjacentElement("afterend",i),()=>{x.off("openchange",l);let n=(0,u.RS)(t),r=(0,u.gR)(W,n)||G&&O(G.nodesRef.current,j()).some(e=>{var t;return(0,u.gR)(null==(t=e.context)?void 0:t.elements.floating,n)});(r||o&&["click","mousedown"].includes(o.type))&&q&&Q(q);let a="boolean"==typeof U.current?ee()||i:U.current.current||i;queueMicrotask(()=>{let o=function(e){let t=I();return(0,s.AO)(e,t)?e:(0,s.Kr)(e,t)[0]||e}(a);U.current&&!eo.current&&(0,c.sb)(o)&&(o===n||n===t.body||r)&&o.focus({preventScroll:e}),i.remove()})}},[r,W,ec,U,L,x,G,ei,q,j]),l.useEffect(()=>{queueMicrotask(()=>{eo.current=!1})},[r]),g(()=>{if(!r&&J)return J.setFocusManagerState({modal:b,closeOnFocusOut:y,open:w,onOpenChange:R,domReference:q}),()=>{J.setFocusManagerState(null)}},[r,J,b,w,R,y,q]),g(()=>{if(r||!ec||"function"!=typeof MutationObserver||T)return;let e=()=>{let e=ec.getAttribute("tabindex"),t=es(),n=(0,u.RS)((0,u.YE)(W)),r=t.indexOf(n);-1!==r&&(eu.current=r),X.current.includes("floating")||n!==q&&0===t.length?"0"!==e&&ec.setAttribute("tabindex","0"):"-1"!==e&&ec.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(ec,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[r,W,ec,q,X,es,T]);let eg=!r&&_&&(!b||!F)&&(ei||b);return(0,i.jsxs)(i.Fragment,{children:[eg&&(0,i.jsx)(V,{"data-type":"inside",ref:ev,onFocus:e=>{if(b){let e=ea();S("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=J&&J.preserveTabOrder&&J.portalNode)if(eo.current=!1,D(e,J.portalNode)){let e=Y()||q;null==e||e.focus()}else{var t;null==(t=J.beforeOutsideRef.current)||t.focus()}}}),!F&&em("start"),n,em("end"),eg&&(0,i.jsx)(V,{"data-type":"inside",ref:ep,onFocus:e=>{if(b)S(ea()[0]);else if(null!=J&&J.preserveTabOrder&&J.portalNode)if(y&&(eo.current=!0),D(e,J.portalNode)){let e=N()||q;null==e||e.focus()}else{var t;null==(t=J.afterOutsideRef.current)||t.focus()}}})]})}let er=0,eo=()=>{},el=l.forwardRef(function(e,t){let{lockScroll:n=!1,...r}=e;return g(()=>{if(n)return 1==++er&&(eo=function(){let e=/iP(hone|ad|od)|iOS/.test((0,u.uo)()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,o=t.left?parseFloat(t.left):window.scrollX,l=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var i,c;let e=(null==(i=window.visualViewport)?void 0:i.offsetLeft)||0;Object.assign(t,{position:"fixed",top:-(l-Math.floor((null==(c=window.visualViewport)?void 0:c.offsetTop)||0))+"px",left:-(o-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(o,l))}}()),()=>{0==--er&&eo()}},[n]),(0,i.jsx)("div",{ref:t,...r,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}})});function eu(e){return(0,c.sb)(e.target)&&"BUTTON"===e.target.tagName}function ei(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:c=!0,event:s="click",toggle:a=!0,ignoreMouse:f=!1,keyboardHandlers:d=!0,stickIfOpen:v=!0}=t,p=l.useRef(),m=l.useRef(!1),g=l.useMemo(()=>({onPointerDown(e){p.current=e.pointerType},onMouseDown(e){let t=p.current;0===e.button&&"click"!==s&&((0,u.Go)(t,!0)&&f||(n&&a&&(!o.current.openEvent||!v||"mousedown"===o.current.openEvent.type)?r(!1,e.nativeEvent,"click"):(e.preventDefault(),r(!0,e.nativeEvent,"click"))))},onClick(e){let t=p.current;if("mousedown"===s&&p.current){p.current=void 0;return}(0,u.Go)(t,!0)&&f||(n&&a&&(!o.current.openEvent||!v||"click"===o.current.openEvent.type)?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click"))},onKeyDown(e){(p.current=void 0,!(e.defaultPrevented||!d||eu(e)))&&(" "!==e.key||(0,u.$u)(i)||(e.preventDefault(),m.current=!0),"Enter"===e.key&&(n&&a?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!d||eu(e)||(0,u.$u)(i))&&" "===e.key&&m.current&&(m.current=!1,n&&a?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click"))}}),[o,i,s,f,d,r,n,v,a]);return l.useMemo(()=>c?{reference:g}:{},[c,g])}let ec={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},es={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ea=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function ef(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:v=!1,referencePressEvent:p="pointerdown",ancestorScroll:g=!1,bubbles:b,capture:E}=t,y=k(),h=m("function"==typeof f?f:()=>!1),w="function"==typeof f?h:f,R=l.useRef(!1),x=l.useRef(!1),{escapeKey:C,outsidePress:L}=ea(b),{escapeKey:S,outsidePress:A}=ea(E),q=l.useRef(!1),W=m(e=>{var t;if(!n||!s||!a||"Escape"!==e.key||q.current)return;let o=null==(t=i.current.floatingContext)?void 0:t.nodeId,l=y?O(y.nodesRef.current,o):[];if(!C&&(e.stopPropagation(),l.length>0)){let e=!0;if(l.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}r(!1,(0,u.O_)(e)?e.nativeEvent:e,"escape-key")}),j=m(e=>{var t;let n=()=>{var t;W(e),null==(t=(0,u.EW)(e))||t.removeEventListener("keydown",n)};null==(t=(0,u.EW)(e))||t.addEventListener("keydown",n)}),T=m(e=>{var t;let n=R.current;R.current=!1;let l=x.current;if(x.current=!1,"click"===d&&l||n||"function"==typeof w&&!w(e))return;let s=(0,u.EW)(e),a="["+M("inert")+"]",f=(0,u.YE)(o.floating).querySelectorAll(a),v=(0,c.vq)(s)?s:null;for(;v&&!(0,c.eu)(v);){let e=(0,c.$4)(v);if((0,c.eu)(e)||!(0,c.vq)(e))break;v=e}if(f.length&&(0,c.vq)(s)&&!(0,u.tZ)(s)&&!(0,u.gR)(s,o.floating)&&Array.from(f).every(e=>!(0,u.gR)(v,e)))return;if((0,c.sb)(s)&&I){let t=(0,c.eu)(s),n=(0,c.L9)(s),r=/auto|scroll/,o=t||r.test(n.overflowX),l=t||r.test(n.overflowY),u=o&&s.clientWidth>0&&s.scrollWidth>s.clientWidth,i=l&&s.clientHeight>0&&s.scrollHeight>s.clientHeight,a="rtl"===n.direction,f=i&&(a?e.offsetX<=s.offsetWidth-s.clientWidth:e.offsetX>s.clientWidth),d=u&&e.offsetY>s.clientHeight;if(f||d)return}let p=null==(t=i.current.floatingContext)?void 0:t.nodeId,m=y&&O(y.nodesRef.current,p).some(t=>{var n;return(0,u.F2)(e,null==(n=t.context)?void 0:n.elements.floating)});if((0,u.F2)(e,o.floating)||(0,u.F2)(e,o.domReference)||m)return;let g=y?O(y.nodesRef.current,p):[];if(g.length>0){let e=!0;if(g.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}r(!1,e,"outside-press")}),F=m(e=>{var t;let n=()=>{var t;T(e),null==(t=(0,u.EW)(e))||t.removeEventListener(d,n)};null==(t=(0,u.EW)(e))||t.addEventListener(d,n)});l.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=C,i.current.__outsidePressBubbles=L;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function l(){window.clearTimeout(e),q.current=!0}function f(){e=window.setTimeout(()=>{q.current=!1},5*!!(0,c.Tc)())}let v=(0,u.YE)(o.floating);a&&(v.addEventListener("keydown",S?j:W,S),v.addEventListener("compositionstart",l),v.addEventListener("compositionend",f)),w&&v.addEventListener(d,A?F:T,A);let p=[];return g&&((0,c.vq)(o.domReference)&&(p=(0,c.v9)(o.domReference)),(0,c.vq)(o.floating)&&(p=p.concat((0,c.v9)(o.floating))),!(0,c.vq)(o.reference)&&o.reference&&o.reference.contextElement&&(p=p.concat((0,c.v9)(o.reference.contextElement)))),(p=p.filter(e=>{var t;return e!==(null==(t=v.defaultView)?void 0:t.visualViewport)})).forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{a&&(v.removeEventListener("keydown",S?j:W,S),v.removeEventListener("compositionstart",l),v.removeEventListener("compositionend",f)),w&&v.removeEventListener(d,A?F:T,A),p.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[i,o,a,w,d,n,r,g,s,C,L,W,S,j,T,A,F]),l.useEffect(()=>{R.current=!1},[w,d]);let P=l.useMemo(()=>({onKeyDown:W,...v&&{[ec[p]]:e=>{r(!1,e.nativeEvent,"reference-press")},..."click"!==p&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}}}),[W,r,v,p]),I=l.useMemo(()=>({onKeyDown:W,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[es[d]]:()=>{R.current=!0}}),[W,d]);return l.useMemo(()=>s?{reference:P,floating:I}:{},[s,P,I])}function ed(e){void 0===e&&(e={});let{nodeId:t}=e,n=function(e){let{open:t=!1,onOpenChange:n,elements:r}=e,o=h(),u=l.useRef({}),[i]=l.useState(()=>(function(){let e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}})()),c=null!=x(),[s,a]=l.useState(r.reference),f=m((e,t,r)=>{u.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:c}),null==n||n(e,t,r)}),d=l.useMemo(()=>({setPositionReference:a}),[]),v=l.useMemo(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return l.useMemo(()=>({dataRef:u,open:t,onOpenChange:f,elements:v,events:i,floatingId:o,refs:d}),[t,f,v,i,o,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[u,i]=l.useState(null),[s,a]=l.useState(null),d=(null==o?void 0:o.domReference)||u,v=l.useRef(null),p=k();g(()=>{d&&(v.current=d)},[d]);let b=(0,f.we)({...e,elements:{...o,...s&&{reference:s}}}),E=l.useCallback(e=>{let t=(0,c.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;a(t),b.refs.setReference(t)},[b.refs]),y=l.useCallback(e=>{((0,c.vq)(e)||null===e)&&(v.current=e,i(e)),((0,c.vq)(b.refs.reference.current)||null===b.refs.reference.current||null!==e&&!(0,c.vq)(e))&&b.refs.setReference(e)},[b.refs]),w=l.useMemo(()=>({...b.refs,setReference:y,setPositionReference:E,domReference:v}),[b.refs,y,E]),R=l.useMemo(()=>({...b.elements,domReference:d}),[b.elements,d]),M=l.useMemo(()=>({...b,...r,refs:w,elements:R,nodeId:t}),[b,w,R,t,r]);return g(()=>{r.dataRef.current.floatingContext=M;let e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=M)}),l.useMemo(()=>({...b,context:M,refs:w,elements:R}),[b,w,R,M])}let ev="active",ep="selected";function em(e,t,n){let r=new Map,o="item"===n,l=e;if(o&&e){let{[ev]:t,[ep]:n,...r}=e;l=r}return{..."floating"===n&&{tabIndex:-1,[G]:""},...l,...t.map(t=>{let r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[n,l]=t;if(!(o&&[ev,ep].includes(n)))if(0===n.indexOf("on")){if(r.has(n)||r.set(n,[]),"function"==typeof l){var u;null==(u=r.get(n))||u.push(l),e[n]=function(){for(var e,t=arguments.length,o=Array(t),l=0;l<t;l++)o[l]=arguments[l];return null==(e=r.get(n))?void 0:e.map(e=>e(...o)).find(e=>void 0!==e)}}}else e[n]=l}),e),{})}}function eg(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),o=l.useCallback(t=>em(t,e,"reference"),t),u=l.useCallback(t=>em(t,e,"floating"),n),i=l.useCallback(t=>em(t,e,"item"),r);return l.useMemo(()=>({getReferenceProps:o,getFloatingProps:u,getItemProps:i}),[o,u,i])}let eb=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function eE(e,t){var n;void 0===t&&(t={});let{open:r,floatingId:o}=e,{enabled:u=!0,role:i="dialog"}=t,c=null!=(n=eb.get(i))?n:i,s=h(),a=null!=x(),f=l.useMemo(()=>"tooltip"===c||"label"===i?{["aria-"+("label"===i?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===c?"dialog":c,"aria-controls":r?o:void 0,..."listbox"===c&&{role:"combobox"},..."menu"===c&&{id:s},..."menu"===c&&a&&{role:"menuitem"},..."select"===i&&{"aria-autocomplete":"none"},..."combobox"===i&&{"aria-autocomplete":"list"}},[c,o,a,r,s,i]),d=l.useMemo(()=>{let e={id:o,...c&&{role:c}};return"tooltip"===c||"label"===i?e:{...e,..."menu"===c&&{"aria-labelledby":s}}},[c,o,s,i]),v=l.useCallback(e=>{let{active:t,selected:n}=e,r={role:"option",...t&&{id:o+"-option"}};switch(i){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}},[o,i]);return l.useMemo(()=>u?{reference:f,floating:d,item:v}:{},[u,f,d,v])}}}]);